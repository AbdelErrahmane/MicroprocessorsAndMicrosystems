#pragma once
namespace Eloquent {
    namespace ML {
        namespace Port {
            class GaussianNB {
                public:
                    /**
                    * Predict class for features vector
                    */
                    int predict(float *x) {
                        float votes[5] = { 0.0f };
                        float theta[29] = { 0 };
                        float sigma[29] = { 0 };
                        theta[0] = 6283.728332562611; theta[1] = 23493.109523693627; theta[2] = 7.190790274296; theta[3] = 10.27544043128; theta[4] = 121.442183659065; theta[5] = 41991.68593472388; theta[6] = 44.706330469492; theta[7] = 18.665733687054; theta[8] = 2702040.9539513714; theta[9] = 217.624552778251; theta[10] = 700.459220678073; theta[11] = 16.389320222942; theta[12] = 174.180154306715; theta[13] = 59.212621997225; theta[14] = 3736036517275729.0; theta[15] = -7866291036724860.0; theta[16] = 1808.486309538297; theta[17] = 14.506169834741; theta[18] = 0.102733224621; theta[19] = 2853665.2469150824; theta[20] = 1606917.8085525834; theta[21] = 14.522087278215; theta[22] = 1.732689171757; theta[23] = 15168.375836639327; theta[24] = 751.003991530168; theta[25] = 310.311436707474; theta[26] = 1.212062209458; theta[27] = 0.634117847494; theta[28] = 1715.228296054713;
                        sigma[0] = 3.809912239536716e+25; sigma[1] = 3.809912239536716e+25; sigma[2] = 3.809912239536716e+25; sigma[3] = 3.809912239536716e+25; sigma[4] = 3.809912239536716e+25; sigma[5] = 3.809912239536817e+25; sigma[6] = 3.809912239536716e+25; sigma[7] = 3.809912239536716e+25; sigma[8] = 3.809912239537146e+25; sigma[9] = 3.809912239536716e+25; sigma[10] = 3.809912239536716e+25; sigma[11] = 3.809912239536716e+25; sigma[12] = 3.809912239536716e+25; sigma[13] = 3.809912239536716e+25; sigma[14] = 4.365175541032956e+34; sigma[15] = 1.0499027537811075e+35; sigma[16] = 3.8099122395367164e+25; sigma[17] = 3.809912239536716e+25; sigma[18] = 3.809912239536716e+25; sigma[19] = 3.809912239736779e+25; sigma[20] = 3.8099122396448495e+25; sigma[21] = 3.809912239536716e+25; sigma[22] = 3.809912239536716e+25; sigma[23] = 3.809912239536716e+25; sigma[24] = 3.809912239536716e+25; sigma[25] = 3.809912239536716e+25; sigma[26] = 3.809912239536716e+25; sigma[27] = 3.809912239536716e+25; sigma[28] = 3.809912239536716e+25;
                        votes[0] = 0.003626694206 - gauss(x, theta, sigma);
                        theta[0] = 32559.656983026936; theta[1] = 87.128738764617; theta[2] = 16.937957414626; theta[3] = 186.958529982838; theta[4] = 2.327876476235; theta[5] = 0.118263860609; theta[6] = 0.002354339985; theta[7] = 0.051846020711; theta[8] = 4220029.9191596005; theta[9] = 905.023098165978; theta[10] = 0.418088603176; theta[11] = 62.801361335738; theta[12] = 28.631840857525; theta[13] = 28.428896387224; theta[14] = 124434.92372229333; theta[15] = 463.732099016813; theta[16] = 0.215810256559; theta[17] = 0.009017394846; theta[18] = 6.4539822e-05; theta[19] = 180071.45849089534; theta[20] = 656.582698237245; theta[21] = 2.319099605853; theta[22] = 0.011130301356; theta[23] = 8.717188863517; theta[24] = 1.265395383676; theta[25] = 47.788888242481; theta[26] = 0.186675344697; theta[27] = 0.0; theta[28] = 0.0;
                        sigma[0] = 3.809912239536716e+25; sigma[1] = 3.809912239536716e+25; sigma[2] = 3.809912239536716e+25; sigma[3] = 3.809912239536716e+25; sigma[4] = 3.809912239536716e+25; sigma[5] = 3.809912239536716e+25; sigma[6] = 3.809912239536716e+25; sigma[7] = 3.809912239536716e+25; sigma[8] = 3.8099122395367473e+25; sigma[9] = 3.809912239536716e+25; sigma[10] = 3.809912239536716e+25; sigma[11] = 3.809912239536716e+25; sigma[12] = 3.809912239536716e+25; sigma[13] = 3.809912239536716e+25; sigma[14] = 3.8099122395382475e+25; sigma[15] = 3.809912239536718e+25; sigma[16] = 3.809912239536716e+25; sigma[17] = 3.809912239536716e+25; sigma[18] = 3.809912239536716e+25; sigma[19] = 3.8099122395367172e+25; sigma[20] = 3.809912239536716e+25; sigma[21] = 3.809912239536716e+25; sigma[22] = 3.809912239536716e+25; sigma[23] = 3.809912239536716e+25; sigma[24] = 3.809912239536716e+25; sigma[25] = 3.809912239536716e+25; sigma[26] = 3.809912239536716e+25; sigma[27] = 3.809912239536716e+25; sigma[28] = 3.809912239536716e+25;
                        votes[1] = 0.485519968576 - gauss(x, theta, sigma);
                        theta[0] = 32347.02821222833; theta[1] = 83.76129242038; theta[2] = 6.068822687048; theta[3] = 8.137060648122; theta[4] = 2.140529608952; theta[5] = 5.600039235033; theta[6] = 0.122449097944; theta[7] = 4.312822796634; theta[8] = 4106462.1156427595; theta[9] = 1314.6834628736; theta[10] = 6.849480455774; theta[11] = 59.822570462579; theta[12] = 139.852732444073; theta[13] = 127.675434689968; theta[14] = 11462507.423359403; theta[15] = 785.986152753062; theta[16] = 41.492333070633; theta[17] = 0.003611542779; theta[18] = 2.6796608e-05; theta[19] = 1018955.9681744291; theta[20] = 38224.445585188914; theta[21] = 0.164640956455; theta[22] = 2.097098907278; theta[23] = 524.837200810377; theta[24] = 409.121608604351; theta[25] = 9906.946535768571; theta[26] = 38.699009905346; theta[27] = 0.0; theta[28] = 0.0;
                        sigma[0] = 3.809912239536716e+25; sigma[1] = 3.809912239536716e+25; sigma[2] = 3.809912239536716e+25; sigma[3] = 3.809912239536716e+25; sigma[4] = 3.809912239536716e+25; sigma[5] = 3.809912239536716e+25; sigma[6] = 3.809912239536716e+25; sigma[7] = 3.809912239536716e+25; sigma[8] = 3.809912239536793e+25; sigma[9] = 3.809912239536716e+25; sigma[10] = 3.809912239536716e+25; sigma[11] = 3.809912239536716e+25; sigma[12] = 3.809912239536716e+25; sigma[13] = 3.809912239536716e+25; sigma[14] = 3.80991223969796e+25; sigma[15] = 3.8099122395367254e+25; sigma[16] = 3.809912239536716e+25; sigma[17] = 3.809912239536716e+25; sigma[18] = 3.809912239536716e+25; sigma[19] = 3.8099122395367263e+25; sigma[20] = 3.8099122395367177e+25; sigma[21] = 3.809912239536716e+25; sigma[22] = 3.809912239536716e+25; sigma[23] = 3.809912239536716e+25; sigma[24] = 3.809912239536716e+25; sigma[25] = 3.809912239536716e+25; sigma[26] = 3.809912239536716e+25; sigma[27] = 3.809912239536716e+25; sigma[28] = 3.809912239536716e+25;
                        votes[2] = 0.441399146442 - gauss(x, theta, sigma);
                        theta[0] = 48020.78658954655; theta[1] = 14694.836397912313; theta[2] = 6.003655869935; theta[3] = 4.268279690587; theta[4] = 1.993864905811; theta[5] = 92.383891784215; theta[6] = 1.147445788435; theta[7] = 21.25374586743; theta[8] = 1831613.8855371801; theta[9] = 315.81100271837; theta[10] = 19.26936663389; theta[11] = 28.044049798189; theta[12] = 105.449804295202; theta[13] = 45.300965612689; theta[14] = 7284037311.002092; theta[15] = 187.808658331351; theta[16] = 8.48749639056; theta[17] = 0.002738722328; theta[18] = 2.035279e-05; theta[19] = 604420.5242624341; theta[20] = 597233.594864991; theta[21] = 2.44261848822; theta[22] = 0.598992791296; theta[23] = 2391.08066065157; theta[24] = 11153.595151202151; theta[25] = 1937.634551659834; theta[26] = 7.568869389785; theta[27] = 0.001381445633; theta[28] = 513554.81563552225;
                        sigma[0] = 3.809912239536716e+25; sigma[1] = 3.809912239536716e+25; sigma[2] = 3.809912239536716e+25; sigma[3] = 3.809912239536716e+25; sigma[4] = 3.809912239536716e+25; sigma[5] = 3.809912239536716e+25; sigma[6] = 3.809912239536716e+25; sigma[7] = 3.809912239536716e+25; sigma[8] = 3.809912239537167e+25; sigma[9] = 3.809912239536716e+25; sigma[10] = 3.809912239536716e+25; sigma[11] = 3.809912239536716e+25; sigma[12] = 3.809912239536716e+25; sigma[13] = 3.809912239536716e+25; sigma[14] = 4.245167873524184e+25; sigma[15] = 3.809912239536716e+25; sigma[16] = 3.809912239536716e+25; sigma[17] = 3.809912239536716e+25; sigma[18] = 3.809912239536716e+25; sigma[19] = 3.8099122395372597e+25; sigma[20] = 3.8099122395430777e+25; sigma[21] = 3.809912239536716e+25; sigma[22] = 3.809912239536716e+25; sigma[23] = 3.809912239536716e+25; sigma[24] = 3.809912239536716e+25; sigma[25] = 3.809912239536716e+25; sigma[26] = 3.809912239536716e+25; sigma[27] = 3.809912239536716e+25; sigma[28] = 3.809912239757257e+25;
                        votes[3] = 0.06939090215 - gauss(x, theta, sigma);
                        theta[0] = 29527.277545327754; theta[1] = 2633.227336122734; theta[2] = 4.291492329149; theta[3] = 13.136680613668; theta[4] = 91.475592747559; theta[5] = 895641.8842398884; theta[6] = 77.085076708508; theta[7] = 15.846582984658; theta[8] = 1539158.2315202232; theta[9] = 320.874476987448; theta[10] = 2.504881450488; theta[11] = 36.8410041841; theta[12] = 866.673640167364; theta[13] = 48.928870292887; theta[14] = 1374742646212.671; theta[15] = 895641.8842398884; theta[16] = 50.264993026499; theta[17] = 4.654114365411; theta[18] = 0.008368200837; theta[19] = 8490722.454672245; theta[20] = 28430354.566248257; theta[21] = 91.083682008368; theta[22] = 2.988842398884; theta[23] = 19016.70711297071; theta[24] = 4047.189679218968; theta[25] = 433.725244072524; theta[26] = 1.68340306834; theta[27] = 0.0; theta[28] = 0.0;
                        sigma[0] = 3.809912239536716e+25; sigma[1] = 3.809912239536716e+25; sigma[2] = 3.809912239536716e+25; sigma[3] = 3.809912239536716e+25; sigma[4] = 3.809912239536716e+25; sigma[5] = 3.809912239548573e+25; sigma[6] = 3.809912239536716e+25; sigma[7] = 3.809912239536716e+25; sigma[8] = 3.80991223953714e+25; sigma[9] = 3.809912239536716e+25; sigma[10] = 3.809912239536716e+25; sigma[11] = 3.809912239536716e+25; sigma[12] = 3.809912239536716e+25; sigma[13] = 3.809912239536716e+25; sigma[14] = 3.734401742138612e+26; sigma[15] = 3.809912239548573e+25; sigma[16] = 3.809912239536716e+25; sigma[17] = 3.809912239536716e+25; sigma[18] = 3.809912239536716e+25; sigma[19] = 3.809912240546429e+25; sigma[20] = 3.8099122477299175e+25; sigma[21] = 3.809912239536716e+25; sigma[22] = 3.809912239536716e+25; sigma[23] = 3.809912239536716e+25; sigma[24] = 3.809912239536716e+25; sigma[25] = 3.809912239536716e+25; sigma[26] = 3.809912239536716e+25; sigma[27] = 3.809912239536716e+25; sigma[28] = 3.809912239536716e+25;
                        votes[4] = 6.3288625e-05 - gauss(x, theta, sigma);
                        // return argmax of votes
                        uint8_t classIdx = 0;
                        float maxVotes = votes[0];

                        for (uint8_t i = 1; i < 5; i++) {
                            if (votes[i] > maxVotes) {
                                classIdx = i;
                                maxVotes = votes[i];
                            }
                        }

                        return classIdx;
                    }

                protected:
                    /**
                    * Compute gaussian value
                    */
                    float gauss(float *x, float *theta, float *sigma) {
                        float gauss = 0.0f;

                        for (uint16_t i = 0; i < 29; i++) {
                            gauss += log(sigma[i]);
                            gauss += abs(x[i] - theta[i]) / sigma[i];
                        }

                        return gauss;
                    }
                };
            }
        }
    }
